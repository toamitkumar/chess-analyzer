{"ast":null,"code":"// append and remove only. No updates.\nexport function syncShapes(shapes, root, renderShape) {\n  const hashesInDom = new Map(),\n    // by hash\n    toRemove = [];\n  for (const sc of shapes) hashesInDom.set(sc.hash, false);\n  let el = root.firstElementChild,\n    elHash;\n  while (el) {\n    elHash = el.getAttribute('cgHash');\n    // found a shape element that's here to stay\n    if (hashesInDom.has(elHash)) hashesInDom.set(elHash, true);\n    // or remove it\n    else toRemove.push(el);\n    el = el.nextElementSibling;\n  }\n  // remove old shapes\n  for (const el of toRemove) root.removeChild(el);\n  // insert shapes that are not yet in dom\n  for (const sc of shapes) {\n    if (!hashesInDom.get(sc.hash)) root.appendChild(renderShape(sc));\n  }\n}\n//# sourceMappingURL=sync.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}