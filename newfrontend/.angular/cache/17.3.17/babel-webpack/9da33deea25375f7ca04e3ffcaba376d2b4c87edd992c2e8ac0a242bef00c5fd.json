{"ast":null,"code":"/**\n * Author and copyright: Stefan Haack (https://shaack.com)\n * Repository: https://github.com/shaack/cm-chessboard\n * License: MIT, see file 'LICENSE'\n */\n\nexport const EXTENSION_POINT = {\n  positionChanged: \"positionChanged\",\n  // the positions of the pieces was changed\n  boardChanged: \"boardChanged\",\n  // the board (orientation) was changed\n  moveInputToggled: \"moveInputToggled\",\n  // move input was enabled or disabled\n  moveInput: \"moveInput\",\n  // move started, moving over a square, validating or canceled\n  beforeRedrawBoard: \"beforeRedrawBoard\",\n  // called before redrawing the board\n  afterRedrawBoard: \"afterRedrawBoard\",\n  // called after redrawing the board\n  redrawBoard: \"redrawBoard\",\n  // called after redrawing the board, DEPRECATED, use afterRedrawBoard 2023-09-18\n  animation: \"animation\",\n  // called on animation start, end, and on every animation frame\n  destroy: \"destroy\" // called, before the board is destroyed\n};\nexport class Extension {\n  constructor(chessboard) {\n    this.chessboard = chessboard;\n  }\n  registerExtensionPoint(name, callback) {\n    if (name === EXTENSION_POINT.redrawBoard) {\n      // deprecated 2023-09-18\n      console.warn(\"EXTENSION_POINT.redrawBoard is deprecated, use EXTENSION_POINT.afterRedrawBoard\");\n      name = EXTENSION_POINT.afterRedrawBoard;\n    }\n    if (!this.chessboard.state.extensionPoints[name]) {\n      this.chessboard.state.extensionPoints[name] = [];\n    }\n    this.chessboard.state.extensionPoints[name].push(callback);\n  }\n\n  /** @deprecated 2023-05-18 */\n  registerMethod(name, callback) {\n    console.warn(\"registerMethod is deprecated, just add methods directly to the chessboard instance\");\n    if (!this.chessboard[name]) {\n      this.chessboard[name] = (...args) => {\n        return callback.apply(this, args);\n      };\n    } else {\n      log.error(\"method\", name, \"already exists\");\n    }\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}